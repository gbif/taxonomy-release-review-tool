{"version":3,"sources":["serviceWorker.js","components/Root.js","index.js"],"names":["Boolean","window","location","hostname","match","Search","Input","Option","Select","verbatimPrefix","currentPrefix","proposedPrefix","ranksToCompare","fieldsToCompare","tableColumns","url","Root","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","loadfromUrl","Papa","parse","download","delimiter","header","dynamicTyping","complete","result","rowIndex","changeSummary","forEach","rank","field","data","row","_key","changes","concat","columns","map","title","key","dataIndex","sorter","a","b","localeCompare","sortDirections","filters","text","value","filterMultiple","onFilter","record","render","isDifferent","smallDifference","toLowerCase","replace","console","log","perfectMatchChanged","changedToPerfectMatch","react_default","createElement","className","tooltip","count","Number","toLocaleString","val","Fragment","keys","f","x","href","getIssueSubjectText","getIssueBodyText","target","rel","setState","dataSource","unfilteredData","error","err","template","encodeURIComponent","JSON","stringify","expandedRowRender","handleSearch","q","searchCol","state","filter","indexOf","csvUrl","pageSize","_this2","style","padding","gutter","col","span","es_select","defaultValue","width","onChange","placeholder","enterButton","onSearch","overflow","table","bordered","scroll","pagination","size","rowKey","React","Component","ReactDOM","components_Root","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9cef4d46.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { Tooltip, Select, Table, Input, Row, Col } from 'antd';\nimport Papa from 'papaparse';\n\nconst { Search } = Input;\nconst { Option } = Select;\n\nconst verbatimPrefix = 'verbatim_';\nconst currentPrefix = 'current_';\nconst proposedPrefix = 'proposed_';\n\nconst ranksToCompare = ['kingdom', 'phylum', 'class', 'order', 'family', 'genus', 'subGenus', 'species', 'scientificName'];\nconst fieldsToCompare = ['acceptedScientificName', 'taxonKey'];\nconst tableColumns = ['kingdom', 'phylum', 'class', 'order', 'family', 'genus', 'subGenus', 'species', 'scientificName', 'acceptedScientificName'];\n\nconst url = '/diff.txt';\n\nclass Root extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      csvUrl: url,\n      searchCol: 'scientificName',\n      pageSize: 20\n    };\n  }\n\n  componentDidMount() {\n    this.loadfromUrl(this.state.csvUrl);\n  }\n\n  loadfromUrl = url => {\n    Papa.parse(url, {\n      download: true,\n      delimiter: \"\\t\",\n      header: true,\n      dynamicTyping: true,\n      complete: result => {\n\n        // const expandedRowColumns = Object.keys(result.data[0]).map(col => (\n        //   { title: col, key: col, dataIndex: col }\n        // ));\n\n        let rowIndex = 0;\n\n        let changeSummary = {};\n        ranksToCompare.forEach(rank => changeSummary[rank] = 0);\n        fieldsToCompare.forEach(field => changeSummary[field] = 0);\n\n        result.data.forEach(row => {\n          // All rows need a unique key for the table to render\n          row._key = rowIndex++;\n          row.changes = {};\n\n          // Add derrived flags - this should be in the csv, but we have decided that as an interim solution it will be here.\n          ranksToCompare.forEach(rank => {\n            if (row[`${currentPrefix}${rank}`] !== row[`${proposedPrefix}${rank}`]) {\n              row.changes[rank] = true;\n              changeSummary[rank]++;\n            }\n            if (row[`${currentPrefix}${rank}Key`] !== row[`${proposedPrefix}${rank}Key`]) {\n              row.changes[`${rank}Key`] = true;\n              changeSummary[`${rank}Key`]++;\n            }\n          });\n          fieldsToCompare.forEach(field => {\n            if (row[`${currentPrefix}${field}`] !== row[`${proposedPrefix}${field}`]) {\n              row.changes[field] = true;\n              changeSummary[field]++;\n            }\n          });\n        });\n\n        // contruct main columns for table\n        let columns = tableColumns.map(rank => {\n          return {\n            title: rank, key: rank, dataIndex: `${currentPrefix}${rank}`,\n            sorter: (a, b) => a[`${currentPrefix}${rank}`].localeCompare(b[`${currentPrefix}${rank}`]),\n            sortDirections: ['descend', 'ascend'],\n            filters: [\n              {\n                text: `Has changed name(${changeSummary[rank]})`,\n                value: true,\n              },\n              {\n                text: 'Has not changed name',\n                value: false,\n              },\n            ],\n            filterMultiple: false,\n            onFilter: (value, record) => !!record.changes[rank] === value,\n            render: (text, record) => {\n              const isDifferent = record[`${proposedPrefix}${rank}`] !== text;\n              const smallDifference = isDifferent && record[`${proposedPrefix}${rank}`].toLowerCase().replace(/[()]/g, '') === text.toLowerCase().replace(/[()]/g, '');\n              if (text === 'Helophorus flavipes Fabricius, 1792') {\n                console.log(5);\n              }\n              const perfectMatchChanged = record[`${verbatimPrefix}${rank}`] === text && isDifferent;\n              const changedToPerfectMatch = record[`${verbatimPrefix}${rank}`] === record[`${proposedPrefix}${rank}`] && isDifferent;\n              return <div className={`nowrap ${ isDifferent ? 'hasChanged' : 'isSame' } ${ smallDifference ? 'smallChange' : '' }`}>\n                  <Tooltip title={`${isDifferent ? rank + ' has changed' : ''}${smallDifference ? ' (casing and/or parenthesis' : ''}${perfectMatchChanged ? ' - current equals verbatim' : ''}${changedToPerfectMatch ? ' - propsed equals verbatim' : ''}`}>\n                    <div className={ perfectMatchChanged ? 'perfectMatchChanged' : '' }>{text}</div>\n                    <div className={ changedToPerfectMatch? 'changedToPerfectMatch' : '' }>{record[`${proposedPrefix}${rank}`] !== text ? record[`${proposedPrefix}${rank}`] : '\\u00A0'}</div>\n                </Tooltip>\n              </div>;\n            }\n          }\n        });\n\n        // add columns for counts, changes and actions\n        columns = [\n          {\n            title: 'count',\n            key: 'count',\n            dataIndex: 'count',\n            sorter: (a, b) => a.count - b.count,\n            sortDirections: ['descend', 'ascend'],\n            render: text => Number(text).toLocaleString()\n          }\n        ].concat(columns).concat(\n          {\n            title: 'Changes',\n            key: 'changes',\n            dataIndex: 'changes',\n            render: (val, record) => <React.Fragment>{Object.keys(val).map(f => <span key={f}>{f}, </span>)}</React.Fragment>,\n            filters: Object.keys(changeSummary).map(x => {\n              return { text: x, value: x };\n            }),\n            filterMultiple: true,\n            onFilter: (value, record) => {\n              return record.changes[value] > 0\n            },\n          },\n          {\n            title: 'Action',\n            key: 'operation',\n            render: (text, record) => <a href={`https://github.com/gbif/checklistbank/issues/new?title=${this.getIssueSubjectText(record)}&body=${this.getIssueBodyText(record)}&labels=bug`} target=\"_blank\" rel=\"noopener noreferrer\">Report</a>,\n          }\n        );\n\n        this.setState({\n          columns,\n          dataSource: result.data,\n          unfilteredData: result.data,\n          // expandedRowColumns\n        });\n      },\n      error: err => {\n        console.log(err);\n      },\n    });\n  }\n\n  getIssueSubjectText = record => {\n    let template = `Regression for ${record[`${currentPrefix}scientificName`]}`;\n    return encodeURIComponent(template);\n  }\n\n  getIssueBodyText = record => {\n    let template = `\\`\\`\\`\\n${JSON.stringify(record, null, 2)}\\n\\`\\`\\``;\n    return encodeURIComponent(template);\n  }\n\n  expandedRowRender = record => {\n    return <p><pre>{JSON.stringify(record, null, 2)}</pre></p>\n    // return <Table columns={this.state.expandedRowColumns} dataSource={[record]} pagination={false} />;\n  };\n\n  handleSearch = (q, searchCol) => {\n    this.setState({\n      q,\n      searchCol,\n      dataSource: this.state.unfilteredData.filter(record => {\n        return record[`${currentPrefix}${searchCol}`].indexOf(q) > -1 || record[`${proposedPrefix}${searchCol}`].indexOf(q) > -1;\n      })\n    });\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <div>\n          <div style={{ padding: 20 }}>\n            <Row gutter={16}>\n              <Col span={4}>\n                <Select defaultValue={this.state.searchCol} style={{ width: '100%' }} onChange={value => this.handleSearch(this.state.q, value)}>\n                  {tableColumns.map(x => <Option value={x} key={x}>{x}</Option>)}\n                </Select>\n              </Col>\n              <Col span={12}>\n                <Search\n                  placeholder=\"Search names\"\n                  enterButton=\"Search\"\n                  onSearch={value => this.handleSearch(value, this.state.searchCol)}\n                />\n              </Col>\n              <Col span={4}>\n                <Select defaultValue={this.state.pageSize} style={{ width: '100%' }} onChange={value => this.setState({pageSize: value})}>\n                  {[10,20,50,100,250,1000].map(x => <Option value={x} key={x}>{x}</Option>)}\n                </Select>\n              </Col>\n            </Row>\n          </div>\n\n          {this.state.dataSource &&\n            <div style={{overflow: 'auto', width: '100%'}}>\n              <Table dataSource={this.state.dataSource} columns={this.state.columns}\n                bordered={true}\n                scroll={{ x: 870 }}\n                pagination={{\n                  pageSize: this.state.pageSize,\n                }}\n                size=\"middle\"\n                expandedRowRender={this.expandedRowRender}\n                rowKey=\"_key\"\n              />\n            </div>\n          }\n        </div>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default Root;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\nimport Root from './components/Root';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <Root/>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}